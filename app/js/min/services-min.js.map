{"version":3,"file":"services-min.js","sources":["../services.js"],"names":["extend","base","parts","Array","prototype","slice","call","arguments","forEach","p","k","hasOwnProperty","angular","module","service","fsConfig","$http","$firebaseObject","ref","Firebase","FIREBASE_URL","getBook","theBookId","refBook","child","getUser","theUserId","refProfile","getSuggested","refSuggested","getMessage","theMessageId","refMessage","getBook1","refBooks","getUser1","refUser","console","log","getRole","userRole","addBookView","$loaded","then","viewCountRef","viewCount","$save","$firebase","FsNotify","FsGet","bookAdded","theUser","theBook","on","bk","val","user","$id","bookSuggested","systemMessage","theMessage","message","$firebaseArray","filterFilter","refLocations","refCollections","refUsers","refMessages","adminLocation","getData","activatorId","messageContent","messageTitle","theTimestamp","Date","valueOf","messageType","title","push","displayName","messageLink","activatorName","timestamp","sentCountryId","places","thePlace","isCountry","sentCountryNotification","name","thisLocationId","geonameId","thisCountryId","parseFloat","countryId","bookUserSetCountry","following","length","thisfollowingid","recipientId","userId","bookId","bookTitle","coverurl","locationId","locationName","countryName","followsId","followsName","error","bookUserSet","authorName","authorId","factory","$resource","$q","photosPublic","format","jsoncallback","load","method","search","query","q","defer","tags","resp","resolve","err","reject","promise","getplaceurl","getPlace","loc","get","response","data","getpicsurl","getPics","locid","bbox","file","callback","transform","success","status"],"mappings":"CAAA,WACG,YAwsBH,SAASA,GAAOC,GACd,GAAIC,GAAQC,MAAMC,UAAUC,MAAMC,KAAKC,UAAW,EAUhD,OATFL,GAAMM,QAAQ,SAAUC,GAClB,GAAIA,GAAoB,gBAAR,GACZ,IAAK,GAAIC,KAAKD,GACNA,EAAEE,eAAeD,KACjBT,EAAKS,GAAKD,EAAEC,MAKrBT,EAhtBTW,QAAQC,OAAO,kBAAmB,WAAY,YAa7CC,QAAQ,SAAU,WAAY,QAAU,kBAAmB,SAASC,EAAUC,EAAQC,GAExF,GAAIC,GAAM,GAAIC,UAASJ,EAASK,aAChC,QACCC,QAAS,SAAUC,GAClB,GAAIC,GAAUL,EAAIM,MAAM,SAASA,MAAMF,EAIvC,OAAOC,IAERE,QAAS,SAAUC,GAClB,GAAIC,GAAaT,EAAIM,MAAM,SAASA,MAAME,EAC1C,OAAOC,IAERC,aAAc,SAAUN,GACvB,GAAIO,GAAeX,EAAIM,MAAM,mBAAmBA,MAAMF,EACtD,OAAOO,IAERC,WAAY,SAAUC,GACrB,GAAIC,GAAad,EAAIM,MAAM,uBAAuBA,MAAMO,EACxD,OAAOC,IAERC,SAAU,SAASX,GAChB,GAAIY,GAAWjB,EAAgBC,EAAIM,MAAM,SAASA,MAAMF,GACxD,OAAOY,IAEVC,SAAU,SAAST,GAChB,GAAIU,GAAUnB,EAAgBC,EAAIM,MAAM,SAASA,MAAME,GAEvD,OADAW,SAAQC,IAAI,yCAA2CZ,GAChDU,GAEVG,QAAS,SAASb,GACf,GAAIc,GAAWvB,EAAgBC,EAAIM,MAAM,SAASA,MAAME,GAAWF,MAAM,QAEzE,OADAa,SAAQC,IAAI,wCAA0CZ,GAC/Cc,OAMX1B,QAAQ,WAAY,WAAY,kBAChC,SAASC,EAAUE,GACnB,GAAIC,GAAM,GAAIC,UAASJ,EAASK,aAChC,QACCqB,YAAa,SAAUnB,GACtBe,QAAQC,IAAI,0BACZD,QAAQC,IAAIhB,EAEZ,IAAIC,GAAUN,EAAgBC,EAAIM,MAAM,SAASA,MAAMF,GACvDC,GAAQmB,UAAUC,KAAK,WACtB,GAAIC,GAAerB,EAAQsB,SAM3B,OALID,KACFA,EAAe,GAEjBrB,EAAQsB,UAAYD,EAAc,EAClCrB,EAAQuB,QACDvB,SAWRT,QAAQ,kBAAmB,WAAY,QAAS,YAAa,WAAY,QAAS,SAASC,EAAUC,EAAO+B,EAAWC,EAAUC,GAGnI,OACCC,UAAW,SAASxB,EAAWJ,GAC9B,GAAI6B,GAASC,CACbH,GAAM5B,QAAQC,GAAW+B,GAAG,QAAS,SAASC,GAC7CF,EAAUE,EAAGC,MACbN,EAAMxB,QAAQC,GAAW2B,GAAG,QAAS,SAASG,GAC5CL,EAAUK,EAAKD,MACfJ,EAAQM,IAAM/B,EACd0B,EAAQK,IAAMnC,EACd0B,EAASE,UAAUC,EAASC,QAKhCM,cAAe,SAAShC,EAAWJ,GAClC,GAAI6B,GAASC,CACbH,GAAMrB,aAAaN,GAAW+B,GAAG,QAAS,SAASC,GAClDF,EAAUE,EAAGC,MACblB,QAAQC,IAAIgB,EAAGC,OACfN,EAAMxB,QAAQC,GAAW2B,GAAG,QAAS,SAASG,GAC5CnB,QAAQC,IAAIkB,EAAKD,OACjBJ,EAAUK,EAAKD,MACfJ,EAAQM,IAAM/B,EACd0B,EAAQK,IAAMnC,EACd0B,EAASU,cAAcP,EAASC,QAKpCO,cAAe,SAASjC,EAAWK,GAClC,GAAIoB,GAASS,CACbX,GAAMxB,QAAQC,GAAW2B,GAAG,QAAS,SAASG,GAC7CL,EAAUK,EAAKD,MACflB,QAAQC,IAAIa,GACZF,EAAMnB,WAAWC,GAAcsB,GAAG,QAAS,SAASQ,GAClDD,EAAaC,EAAQN,MACrBlB,QAAQC,IAAIsB,GACZvB,QAAQC,IAAIa,GACZA,EAAQM,IAAM/B,EACdkC,EAAWH,IAAM1B,EACjBiB,EAASW,cAAcR,EAASS,YAQnC9C,QAAQ,YAAa,WAAY,QAAS,YAAa,iBAAkB,kBAAmB,eAC7F,SAASC,EAAUC,EAAO+B,EAAWe,EAAgB7C,EAAiB8C,GAuCrE,GAAIC,GAAaC,EAAe/B,EAC5BhB,EAAM,GAAIC,UAASJ,EAASK,aACjC4C,GAAeF,EAAe5C,EAAIM,MAAM,UACxC,IAAI0C,GAAWJ,EAAe5C,EAAIM,MAAM,SACxCU,GAAW4B,EAAe5C,EAAIM,MAAM,UACpCyC,EAAiBH,EAAe5C,EAAIM,MAAM,eAE1C,IAAI2C,GAAcjD,EAAIM,MAAM,YACxB4C,EAAgBlD,EAAIM,MAAM,wBAE3B,QACD0B,UAAW,SAAUC,EAASC,EAASiB,GAGvCA,EAA6B,mBAAZA,GAA0BA,GAAU,CAqCtD,IAAIC,GAAYC,EAAeC,EAE1BC,GAAe,GAAIC,OAAOC,UAC1BC,EAAc,WAgKlB,OA/JAJ,GAAe,iBACfD,EAAiBnB,EAAQyB,MAAQ,cACjCP,EAAcnB,EAAQM,IAIrBW,EAAcU,MACfF,YAAaA,EACXC,MAAM,mBACRN,eAAiB,IAAInB,EAAQyB,MAAQ,kBAAoB1B,EAAQ4B,YACjEC,YAAa,+BAAiC5B,EAAQK,IACtDwB,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IACrByB,UAAWT,IAIZP,EAASxB,UAAUC,KAAK,WACvB,GAAIwC,GAAgB,EAEpBvE,SAAQJ,QAAQ4C,EAAQgC,OAAQ,SAASC,GACzC,GAAIC,IAAY,EACZC,GAA0B,CAC9BlD,SAAQC,IAAI,eAAiB+C,EAASG,KACpC,IAAIC,GAAiBJ,EAASK,UAC3BC,EAAiBC,WAAWP,EAASQ,UAWzC,IAVAxD,QAAQC,IAAIsD,WAAWP,EAASK,YAChCrD,QAAQC,IAAIsD,WAAWP,EAASQ,YAC7BJ,IAAmBE,IACrBL,GAAY,EACZjD,QAAQC,IAAI,oBAIbD,QAAQC,IAAI,iBAAmB6C,GAC/B9C,QAAQC,IAAI,mBAAsBsD,WAAWP,EAASQ,YACnDV,IAAkBS,WAAWP,EAASQ,WAAW,CACnD,GAAIC,GAAqB/B,EAAaG,GAAW6B,UAAUJ,GAC3DtD,SAAQC,IAAKwD,GACRA,EAAmBE,QACtB3D,QAAQC,IAAI,uBAAyB+C,EAASG,KAShD,IAAIS,EACJrF,SAAQJ,QAAQsF,EAAoB,SAAStC,GAK5C,GAJGA,EAAKuC,UAAUH,WAAWP,EAASQ,cACrCI,EAAkBzC,EAAKuC,UAAUH,WAAWP,EAASQ,YAAYA,WAElExD,QAAQC,IAAI2D,GACTA,IAAoBL,WAAWP,EAASQ,WAAW,CACrDxD,QAAQC,IAAI,oBACbD,QAAQC,IAAI,sBACZ,IAAI4D,GAAc1C,EAAKC,GAErBU,GAAY3C,MAAM0E,GAAapB,MAC5BqB,OAAUD,EACVtB,YAAaA,EACbC,MAAO,iBACPN,eAAgBnB,EAAQyB,MAAQ,sBAAwBQ,EAASG,KACpER,YAAa,+BAAiC5B,EAAQK,IACnDwB,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IAErB2C,OAAQhD,EAAQK,IAChB4C,UAAWjD,EAAQyB,MACnByB,SAAUlD,EAAQkD,SAErBC,WAAYlB,EAASK,UACrBc,aAAcnB,EAASG,KACvBK,UAAWD,WAAWP,EAASQ,WAC/BY,YAAapB,EAASoB,YACtBC,UAAWd,WAAWP,EAASQ,WAC/Bc,YAAatB,EAASoB,YAEnBvB,UAAWT,GACZ,SAASmC,GACNA,GACJvE,QAAQC,IAAI,WACZD,QAAQC,IAAIsE,IAEZvE,QAAQC,IAAI,kBAOhB6C,EAAgBS,WAAWP,EAASQ,WACpCN,GAA0B,EAI3B,IAAID,EAAU,CACd,GAAIuB,GAAc9C,EAAaG,GAAW6B,UAAUN,GAEpDpD,SAAQC,IAAKuE,GACRA,EAAYb,QACf3D,QAAQC,IAAI,uBAAyB+C,EAASG,MAUhD5E,QAAQJ,QAAQqG,EAAa,SAASrD,GACrCnB,QAAQC,IAAIkB,EACZ,IAAI0C,GAAc1C,EAAKC,GAErBU,GAAY3C,MAAM0E,GAAapB,MAC5BqB,OAAUD,EACVtB,YAAaA,EACbC,MAAO,iBACPN,eAAgBnB,EAAQyB,MAAQ,sBAAwBQ,EAASG,KACpER,YAAa,+BAAiC5B,EAAQK,IACnDwB,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IAErB2C,OAAQhD,EAAQK,IAChB4C,UAAWjD,EAAQyB,MACnByB,SAAUlD,EAAQkD,SAErBC,WAAYlB,EAASK,UACrBc,aAAcnB,EAASG,KACvBK,UAAWD,WAAWP,EAASQ,WAC/BY,YAAapB,EAASoB,YACtBC,UAAWd,WAAWP,EAASK,WAC/BiB,YAAatB,EAASG,KAEnBN,UAAWT,GACZ,SAASmC,GACNA,GACJvE,QAAQC,IAAI,WACZD,QAAQC,IAAIsE,IAEZvE,QAAQC,IAAI,sBAgBV,wCAGPoB,cAAe,SAAUP,EAASC,GAMlC,GAAIoB,GAAcD,EACdE,GAAe,GAAIC,OAAOC,UAC1BC,EAAc,eA2JlB,OA1JAJ,GAAe,qBACfD,EAAiBnB,EAAQyB,MAAQ,kBAGhCT,EAAcU,MACfF,YAAaA,EACXC,MAAM,uBACRN,eAAiB,IAAInB,EAAQyB,MAAQ,sBAAwB1B,EAAQ4B,YACrEC,YAAa,mCACbC,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IACrByB,UAAWT,IAMZP,EAASxB,UAAUC,KAAK,WACvB,GAAIwC,GAAgB,EAEpBvE,SAAQJ,QAAQ4C,EAAQgC,OAAQ,SAASC,GACzC,GAAIC,IAAY,EACZC,GAA0B,CAC9BlD,SAAQC,IAAI,eAAiB+C,EAASG,KACpC,IAAIC,GAAiBJ,EAASK,UAC3BC,EAAiBC,WAAWP,EAASQ,UAWzC,IAVAxD,QAAQC,IAAIsD,WAAWP,EAASK,YAChCrD,QAAQC,IAAIsD,WAAWP,EAASQ,YAC7BJ,IAAmBE,IACrBL,GAAY,EACZjD,QAAQC,IAAI,oBAIbD,QAAQC,IAAI,iBAAmB6C,GAC/B9C,QAAQC,IAAI,mBAAsBsD,WAAWP,EAASQ,YACnDV,IAAkBS,WAAWP,EAASQ,WAAW,CACnD,GAAIC,GAAqB/B,EAAaG,GAAW6B,UAAUJ,GAC3DtD,SAAQC,IAAKwD,GACRA,EAAmBE,QACtB3D,QAAQC,IAAI,uBAAyB+C,EAASG,KAShD,IAAIS,EACJrF,SAAQJ,QAAQsF,EAAoB,SAAStC,GAK5C,GAJGA,EAAKuC,UAAUH,WAAWP,EAASQ,cACrCI,EAAkBzC,EAAKuC,UAAUH,WAAWP,EAASQ,YAAYA,WAElExD,QAAQC,IAAI2D,GACTA,IAAoBL,WAAWP,EAASQ,WAAW,CACrDxD,QAAQC,IAAI,oBACbD,QAAQC,IAAI,sBACZ,IAAI4D,GAAc1C,EAAKC,GAErBU,GAAY3C,MAAM0E,GAAapB,MAC5BqB,OAAUD,EACVtB,YAAaA,EACbC,MAAO,qBACPN,eAAgBnB,EAAQyB,MAAQ,0BAA4BQ,EAASG,KACxER,YAAa,mCACVC,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IAErB2C,OAAQhD,EAAQK,IAChB4C,UAAWjD,EAAQyB,MACnByB,SAAUlD,EAAQkD,SAErBC,WAAYlB,EAASK,UACrBc,aAAcnB,EAASG,KACvBK,UAAWD,WAAWP,EAASQ,WAC/BY,YAAapB,EAASoB,YACtBC,UAAWd,WAAWP,EAASQ,WAC/Bc,YAAatB,EAASoB,YAEnBvB,UAAWT,GACZ,SAASmC,GACNA,GACJvE,QAAQC,IAAI,WACZD,QAAQC,IAAIsE,IAEZvE,QAAQC,IAAI,kBAOhB6C,EAAgBS,WAAWP,EAASQ,WACpCN,GAA0B,EAI3B,IAAID,EAAU,CACd,GAAIuB,GAAc9C,EAAaG,GAAW6B,UAAUN,GAEpDpD,SAAQC,IAAKuE,GACRA,EAAYb,QACf3D,QAAQC,IAAI,uBAAyB+C,EAASG,MAUhD5E,QAAQJ,QAAQqG,EAAa,SAASrD,GACrCnB,QAAQC,IAAIkB,EACZ,IAAI0C,GAAc1C,EAAKC,GAErBU,GAAY3C,MAAM0E,GAAapB,MAC5BqB,OAAUD,EACVtB,YAAaA,EACbC,MAAO,qBACPN,eAAgBnB,EAAQyB,MAAQ,0BAA4BQ,EAASG,KACxER,YAAa,mCACVC,cAAe9B,EAAQ4B,YACvBT,YAAanB,EAAQM,IAErB2C,OAAQhD,EAAQK,IAChB4C,UAAWjD,EAAQyB,MACnByB,SAAUlD,EAAQkD,SAErBC,WAAYlB,EAASK,UACrBc,aAAcnB,EAASG,KACvBK,UAAWD,WAAWP,EAASQ,WAC/BY,YAAapB,EAASoB,YACtBC,UAAWd,WAAWP,EAASK,WAC/BiB,YAAatB,EAASG,KAEnBN,UAAWT,GACZ,SAASmC,GACNA,GACJvE,QAAQC,IAAI,WACZD,QAAQC,IAAIsE,IAEZvE,QAAQC,IAAI,sBAWV,wCAGPqB,cAAe,SAAUR,EAASS,GAKjC,GAAIa,IAAe,GAAIC,OAAOC,UAC1BC,EAAc,QA4BlB,OAzBAV,GAASxB,UAAUC,KAAK,WACzB/B,QAAQJ,QAAQ0D,EAAU,SAASV,GAClC,GAAI0C,GAAc1C,EAAKC,GACrBU,GAAY3C,MAAM0E,GAAapB,MAC7BqB,OAAUD,EACVtB,YAAaA,EACbC,MAAOjB,EAAWiB,MAClBN,eAAgBX,EAAWW,eAC9BS,YAAapB,EAAWoB,YACrBC,cAAerB,EAAWkD,WAC1BxC,YAAaV,EAAWmD,SACxB7B,UAAWT,GACZ,SAASmC,GACNA,GACJvE,QAAQC,IAAI,WACZD,QAAQC,IAAIsE,IAEZvE,QAAQC,IAAI,mBAQP,4BA2BV0E,QAAQ,UAAU,YAAa,KAAO,SAASC,EAAWC,GAC1D,GAAIC,GAAeF,EAAU,0DACvBG,OAAQ,OAAQC,aAAc,kBAC9BC,MAAUC,OAAU,UACzB,QACCC,OAAQ,SAASC,GACf,GAAIC,GAAIR,EAAGS,OASX,OARAR,GAAaG,MACXM,KAAMH,GACL,SAASI,GACVH,EAAEI,QAAQD,IACT,SAASE,GACVL,EAAEM,OAAOD,KAGJL,EAAEO,aAKbjB,QAAQ,eAAgB,QAAS,KAAO,SAAUhG,EAAOkG,GACvD,GAAIgB,GAAc,mKAEjB,QACIC,SAAU,SAAUC,GAGhB,MAAOpH,GAAMqH,IAAIH,EAAYE,GAAKzF,KAAK,SAAS2F,GACxC,MAA6B,gBAAlBA,GAASC,KACTD,EAASC,KAGTrB,EAAGc,OAAOM,EAASC,OAG/B,SAASD,GAER,MAAOpB,GAAGc,OAAOM,EAASC,aAM7CvB,QAAQ,mBAAoB,QAAS,KAAM,SAAUhG,EAAOkG,GAC7D,GAAIsB,GAAa,2PAKb,QACIC,QAAS,SAASC,EAAOC,GAGrB,MAAO3H,GAAMqH,IAAIG,EAAWE,GACvB/F,KAAK,SAAS2F,GACX,MAA6B,gBAAlBA,GAASC,KACTD,EAASC,KAGTrB,EAAGc,OAAOM,EAASC,OAG/B,SAASD,GAER,MAAOpB,GAAGc,OAAOM,EAASC,aAM7CvB,QAAQ,cAAe,QAAS,SAAShG,GACzC,OACGqH,IAAK,SAASO,EAAKC,EAASC,GAC1B9H,EAAMqH,IAAIO,GACTG,QAAQ,SAASR,EAAMS,GAC1B3G,QAAQC,IAAI,qBACPuG,EAASN,KAEf3B,MAAM,SAAS2B,EAAMS,GACf3G,QAAQC,IAAI,kBAAoB0G,EAAQ,eACxC3G,QAAQC,IAAIiG"}