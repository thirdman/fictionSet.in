app.controller("RegisterCtrl",["fsConfig","$firebaseAuth","Auth","$scope","$location",function(e,o,l,r,s){"use strict";var i=new Firebase(e.FIREBASE_URL),a=!1;r.loading=a,r.theerror="",r.iserror=!1,r.loginReg={},r.createUser=function(){r.loading=!0,console.log(r.loginReg);var e=r.loginReg.email,o=r.loginReg.password,l=r.loginReg.displayName;i.createUser({email:e,password:o},function(a,n){if(a){switch(console.log("Error creating user:",a),console.log(a),a.code){case"INVALID_EMAIL":console.log("invalid email"),r.errorTitle="Invalid Email Address";break;case"INVALID_PASSWORD":console.log("invalid password"),r.errorTitle="Invalid Password";break;case"EMAIL_TAKEN":console.log("Email in  user"),r.errorTitle="Email Already Taken";break;default:console.log("Error"),r.errorTitle="Error"}r.theerror=a,r.iserror=!0,r.loading=!1,r.$apply()}else console.log(n),console.log("Successfully created user account with uid:",n.uid),console.log("User created successfully in auth:",n),console.log("Now creating profile:",n),i.authWithPassword({email:e,password:o},function(o,r){if(console.log("Logged in as:",r.uid),o)console.log("Login Failed!",o);else{console.log("Authenticated successfully with payload:",r),console.log(l);var a;a=null!==n.id?"":n.id,i.child("users").child(r.uid).set({displayName:l,provider:r.provider,provider_id:a,email:e,role:10,isAdmin:!1});var c=(new Date).valueOf();i.child("/system/adminmessages").push({title:"User Added (manual)",messageContent:l+" ("+e+") registered.",messageType:"User",timestamp:c}),s.path("/account")}})})}}]);
//# sourceMappingURL=./ctrlRegister-min.js.map