function distance(r,t,e,n,a){var i=Math.PI*r/180,u=Math.PI*e/180,p=Math.PI*t/180,c=Math.PI*n/180,o=t-n,l=Math.PI*o/180,s=Math.sin(i)*Math.sin(u)+Math.cos(i)*Math.cos(u)*Math.cos(l);return s=Math.acos(s),s=180*s/Math.PI,s=60*s*1.1515,"K"===a&&(s=1.609344*s),"N"===a&&(s=.8684*s),s}function arrayObjectIndexOf(r,t){for(var e=0;e<r.length;e++)if(angular.equals(r[e],t))return e;return-1}app.filter("currentBooksFilter",function(){return function(r,t){if(r){if(t){var e=t.toLowerCase();return r.filter(function(r){return r.title&&r.title.toString().toLowerCase().indexOf(e)>-1||r.author&&r.author.toString().toLowerCase().indexOf(e)>-1||r.isbn&&r.isbn.indexOf(e)>-1||r.isbn13&&r.isbn13.indexOf(e)>-1})}return r}}}),app.service("tags",function(r,t){this.load=function(e,n){var a=r.defer(),i=t(n,e);return console.log(i),a.resolve(i),a.promise}}),app.filter("uniqueTags",function(){return function(r){var t={};angular.forEach(r,function(r,e){angular.forEach(r.tags,function(r){t[r]=1})});var e=[];for(var n in t)e.push(n);return e}}),app.filter("to_trusted",["$sce",function(r){return function(t){return r.trustAsHtml(t)}}]),app.filter("to_trusted_lines",["$sce",function(r){return function(t){var e=String(t).replace(/<p>/gm,"###startp###");return e=e.replace(/<\/p>/gm,"###endp###"),e=e.replace(/<br>/gm,"###br###"),e=e.replace(/<br\/>/gm,"###br###"),e=e.replace(/<[^>]+>/gm,""),e=e.replace(/###startp###/gm,"<p>"),e=e.replace(/###endp###/gm,"</p>"),e=e.replace(/###br###/gm,"<br>"),e=e.replace(/###startp###/gm,"<p>"),e=e.replace(/\s{2,}/g," "),r.trustAsHtml(e)}}]),app.filter("to_lines",["$sce",function(r){return function(r){var t=String(r).replace(/<p>/gm,"###startp###");return t=t.replace(/<\/p>/gm,"###endp###"),t=t.replace(/<br>/gm,"###br###"),t=t.replace(/<br\/>/gm,"###br###"),t=t.replace(/<[^>]+>/gm,""),t=t.replace(/###startp###/gm,""),t=t.replace(/###endp###/gm,"\n\r\n"),t=t.replace(/###br###/gm,""),t=t.replace(/\s{2,}/g," ")}}]),app.filter("to_plain",function(){return function(r){return String(r).replace(/<[^>]+>/gm,"")}});var validHTMLTags=/^(?:i|p|br)$/i;app.filter("to_plain_keep_some",function(){return function(r){return String(r).replace(/<[^>]+>/gm,"")}}),angular.module("ng").filter("cut",function(){return function(r,t,e,n){if(!r)return"";if(e=parseInt(e,10),!e)return r;if(r.length<=e)return r;if(r=r.substr(0,e),t){var a=r.lastIndexOf(" ");-1!=a&&(r=r.substr(0,a))}return r+(n||" ?")}});
//# sourceMappingURL=./misc-min.js.map