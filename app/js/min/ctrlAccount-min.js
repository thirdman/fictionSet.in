app.controller("AccountCtrl",["fsConfig","$scope","Auth","Profile","currentUser","$location","FsGet",function(e,o,a,t,r,l,c){"use strict";var s,i,n,u,g;o.unreadMessages=s,o.aaa=!1,o.isLoadingMessages=!0,o.locationObject=g;var p=a.$getAuth();o.auth=a,o.auth.$onAuth(function(e){o.authData=e,console.log("got authdata");var a=c.getRole(e.uid);a.$loaded().then(function(){var e=a.$value>50;o.userRole=a.$value,o.userAaa=e,console.log("$scope.userRole is "+o.userRole),console.log("$scope.userAaa is "+o.userAaa)})["catch"](function(e){console.error(e)})}),p?(i=c.getUser1(r.uid),i.$loaded().then(function(){o.profile=i,console.log(i),n=i.picture_url,"google"===r.provider?(console.log("provider is google"),u=r.thirdPartyUserData.picture):"facebook"===r.provider&&(console.log("provider is facebook"),u=r.facebook.profileImageURL),u&&n!==u?(console.log("profile images are different, so change them"),new Firebase(e.FIREBASE_URL+"/users").child(r.uid).update({picture_url:u})):console.log("profile images match, as you were."),o.autoObject=function(e){g=e,o.locationObject=e,o.profile.location=g.title,console.log(o.locationObject)}})):(l.path("#/home").replace(),o.$apply())}]);
//# sourceMappingURL=./ctrlAccount-min.js.map